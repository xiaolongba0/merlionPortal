<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">



    <ui:composition template="templates/template.xhtml">

        <ui:param name="pageName" value="Our Services" />

        <!-- Override Content -->
        <ui:define name="content">
            <div class="container">
                <h2>Our Services</h2>
                <div class="row">
                    <div class="col-md-3">
                        <div class="thumbnail">
                            <img src="img/1pl.jpg" class="service-image" />
                            <div class="caption">
                                <h2 class="service-title">Package 1</h2>
                                <div>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus vitae scelerisque orci. Nam auctor odio ipsum, vel elementum ex suscipit in. Nam lorem massa, consequat ut euismod et, aliquet nec ante. Donec ultricies ex dapibus lorem congue, in placerat libero eleifend. Aliquam elit nisi, rhoncus pretium justo a, scelerisque condimentum magna. In fermentum ante nec lorem porttitor, vel scelerisque tellus placerat. Integer auctor sem non varius iaculis. Mauris luctus elit sem, nec venenatis ligula vestibulum non. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. .</div>
                                <h4 class="service-cost">$7,000/yr</h4>
                                <button class="btn btn-success" id="1plBuyBtn" onclick="toggleModal();">Buy Now</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="thumbnail">
                            <img src="img/2pl.jpg" class="service-image" />
                            <div class="caption">
                                <h2 class="service-title">Package 2</h2>
                                <div>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus vitae scelerisque orci. Nam auctor odio ipsum, vel elementum ex suscipit in. Nam lorem massa, consequat ut euismod et, aliquet nec ante. Donec ultricies ex dapibus lorem congue, in placerat libero eleifend. Aliquam elit nisi, rhoncus pretium justo a, scelerisque condimentum magna. In fermentum ante nec lorem porttitor, vel scelerisque tellus placerat. Integer auctor sem non varius iaculis. Mauris luctus elit sem, nec venenatis ligula vestibulum non. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. .</div>
                                <h4 class="service-cost">$6,000/yr</h4>
                                <button class="btn btn-success" id="2plBuyBtn" onclick="toggleModal();">Buy Now</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="thumbnail">
                            <img src="img/3pl.jpg" class="service-image" />
                            <div class="caption">
                                <h2 class="service-title">Package 3</h2>
                                <div>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus vitae scelerisque orci. Nam auctor odio ipsum, vel elementum ex suscipit in. Nam lorem massa, consequat ut euismod et, aliquet nec ante. Donec ultricies ex dapibus lorem congue, in placerat libero eleifend. Aliquam elit nisi, rhoncus pretium justo a, scelerisque condimentum magna. In fermentum ante nec lorem porttitor, vel scelerisque tellus placerat. Integer auctor sem non varius iaculis. Mauris luctus elit sem, nec venenatis ligula vestibulum non. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. .</div>
                                <h4 class="service-cost">$5,000/yr</h4>
                                <button class="btn btn-success" id="3plBuyBtn" onclick="toggleModal();">Buy Now</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="thumbnail">
                            <img src="img/4pl.jpg" class="service-image" />
                            <div class="caption">
                                <h2 class="service-title">Package 4</h2>
                                <div>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus vitae scelerisque orci. Nam auctor odio ipsum, vel elementum ex suscipit in. Nam lorem massa, consequat ut euismod et, aliquet nec ante. Donec ultricies ex dapibus lorem congue, in placerat libero eleifend. Aliquam elit nisi, rhoncus pretium justo a, scelerisque condimentum magna. In fermentum ante nec lorem porttitor, vel scelerisque tellus placerat. Integer auctor sem non varius iaculis. Mauris luctus elit sem, nec venenatis ligula vestibulum non. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. .</div>
                                <h4 class="service-cost">6,000/yr</h4>
                                <button class="btn btn-success" id="4plBuyBtn" onclick="toggleModal();">Buy Now</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <h:form>
                <div id="buyModal" class="modal fade">
                    <div class="modal-dialog">

                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                <h2 class="modal-title">Buy now!</h2>
                            </div>
                            <div id="body" class="modal-body">
                                <h3>Register Company Information</h3>
                                <p:ajaxStatus style="width:16px;height:16px;">
                                    <f:facet name="start">
                                        <h:graphicImage value="/img/load.gif" />
                                    </f:facet>
                                    <f:facet name="complete">
                                        <h:outputText value="" />
                                    </f:facet>
                                </p:ajaxStatus>
                                <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true"/>
                                <h:panelGrid columns="3" cellpadding="5">

                                    <h:outputLabel style="font-weight: bold" value="Company Name * "/>
                                    <h:inputText  styleClass="form-control" required="true" requiredMessage="Company Name is required." id="companyName" value="#{userAccountManagerBean.companyName}" />

                                    <br/>
                                    <h:outputLabel style="font-weight: bold" value="Company Address * "/>
                                    <h:inputText   styleClass="form-control" required="true" requiredMessage="Company Address is required." id="companyAddress" value="#{userAccountManagerBean.companyAddress}" />
                                    <br/>
                                    <h:outputLabel style="font-weight: bold" value="Contact Person Name * "/>
                                    <h:inputText  styleClass="form-control" required="true" requiredMessage="Contact Person Name is required." id="companyContactPersonName" value="#{userAccountManagerBean.contactPersonName}" />
                                    <br/>
                                    <h:outputLabel style="font-weight: bold" value="Contact Number * "/>
                                    <h:inputText   styleClass="form-control" required="true" requiredMessage="Contact Number is required." id="companyContactNumber" value="#{userAccountManagerBean.contactNumber}" />
                                    <br/>
                                    <h:outputLabel style="font-weight: bold" value="Email Address * "/>
                                    <h:inputText   styleClass="form-control" required="true" requiredMessage="Email Address is required." id="companyEmailAddress" value="#{userAccountManagerBean.emailAddress}">
                                        <f:validator validatorId="custom.emailValidator" />
                                    </h:inputText>
                                    <br/>
                                    <h:outputLabel style="font-weight: bold" value="Company Description * "/>
                                    <h:inputText  styleClass="form-control" required="true" requiredMessage="Company Description is required." id="companyDescription" value="#{userAccountManagerBean.description}" />
                                    <br/>
                                    <h:outputLabel for="basic" style="font-weight: bold" value="Package Choice * " />
                                    <h:selectOneListbox  styleClass="form-control" id="basic" value="#{userAccountManagerBean.package1}" required="true" requiredMessage="Package choice is required.">
                                        <f:selectItem itemLabel="Package for 1PL Manufacturing" itemValue="1" />
                                        <f:selectItem itemLabel="Package for 1PL Non-Manufacturing" itemValue="2" />
                                        <f:selectItem itemLabel="Package for 2PL" itemValue="3" />
                                        <f:selectItem itemLabel="Package for 3PL and 4PL" itemValue="4" />
                                    </h:selectOneListbox>

                                </h:panelGrid>
                            </div>
                            <div class="modal-footer">

                                <p:commandButton value="Register" styleClass="btn btn-success" update="companyName companyAddress companyContactPersonName companyContactNumber companyEmailAddress companyDescription basic" actionListener="#{userAccountManagerBean.registerNewCompany}" ajax="true" validateClient="true" ></p:commandButton>
                                <p:commandButton value="Close" styleClass="btn btn-warning" pt:data-dismiss="modal"></p:commandButton>


                            </div>
                        </div>
                    </div>

                </div>

            </h:form>
            <script type="text/javascript">
                function toggleModal() {
                    $("#buyModal").modal('show');
                }
            </script>
            <script type="text/javascript">
                PrimeFaces.validator['custom.emailValidator'] = {
                    pattern: /\S+@\S+/,
                    validate: function(element, value) {
                        //use element.data() to access validation metadata, in this case there is none.
                        if (!this.pattern.test(value)) {
                            throw {
                                summary: 'Validation Error',
                                detail: value + ' is not a valid email.'
                            }
                        }
                    }
                };
            </script>
        </ui:define>

    </ui:composition>
</html>